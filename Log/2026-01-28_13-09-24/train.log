2026-01-28 13:09:25,280 - INFO - 开始无监督跨模态对比学习训练
2026-01-28 13:09:25,280 - INFO - 命令行参数: {'config': '../DataLoader/config.yaml', 'epochs': 300, 'batch_size': 8, 'lr': 0.001, 'device': 'cuda', 'gpus': '1,2,3', 'num_workers': 4, 'log_dir': '../Log', 'checkpoint_dir': '../Checkpoints', 'freeze_backbone': True, 'lambda_gen': 1.0}
2026-01-28 13:09:25,344 - INFO - 使用的显卡ID: [1, 2, 3]
2026-01-28 13:09:25,345 - INFO - 使用设备: cuda
2026-01-28 13:09:25,345 - INFO - 创建数据加载器...
2026-01-28 13:10:04,991 - INFO - 数据加载器创建完成，训练样本数: 12311, 批次大小: 8, 批次数量: 1538
2026-01-28 13:10:05,047 - INFO - 
=== Batch Size 建议 ===
2026-01-28 13:10:05,047 - INFO - 当前设置: batch_size=8, 使用显卡数=3
2026-01-28 13:10:05,047 - INFO - 注意：在multi_view_visual_encoder.py中，实际传入Backbone的图片数量会被放大为 B * N * NUM_NEIGHBOURS
2026-01-28 13:10:05,047 - INFO - 例如：如果N=4, NUM_NEIGHBOURS=5，那么每张显卡需要处理的图片数为: (16 * 4 * 5) / 3 = 106.66666666666667张
2026-01-28 13:10:05,048 - INFO - 
建议：在多卡环境下，您可以将batch size设置为 2 ~ 8
2026-01-28 13:10:05,048 - INFO - 这样每张显卡处理的实际图片数量会更合理，减少显存压力
2026-01-28 13:10:05,048 - INFO - 初始化模型...
2026-01-28 13:10:05,956 - INFO - 是否冻结ResNet Backbone: True
2026-01-28 13:10:05,972 - INFO - 检测到 3 张可用显卡，使用DataParallel...
2026-01-28 13:10:05,976 - INFO - 模型已使用DataParallel包装
2026-01-28 13:10:07,987 - INFO - 开始训练...
2026-01-28 13:10:07,989 - INFO - Epoch 1/300
